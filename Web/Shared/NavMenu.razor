@inject NavigationManager navigationManager
@inject IdentityAuthenticationStateProvider authStateProvider
<MudNavMenu Class="mt-10">
    <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Home">Home</MudNavLink>
    <MudNavLink Href="/events" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.DirectionsRun">Event Entries</MudNavLink>
    <MudNavLink Href="/users" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.People">Member list</MudNavLink>
    <MudNavLink Href="/finance" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.AccountBalanceWallet">Finance</MudNavLink>
    <MudNavLink Href="/settings" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Settings">Settings</MudNavLink>
    <MudDivider DividerType="DividerType.Middle" Class="mt-10" />
    <br />
    <AuthorizeView Policy=@Policy.News>
        <MudNavLink Href="/admin/news" Match="NavLinkMatch.All" Icon="@Icons.Material.Message">News</MudNavLink>
    </AuthorizeView>
    <MudNavLink Href="/admin/entries" Match="NavLinkMatch.All" Icon="@Icons.Material.StickyNote2">Entries</MudNavLink>
    <MudNavLink Href="/admin/events" Match="NavLinkMatch.All" Icon="@Icons.Material.RunCircle">Events</MudNavLink>
    <MudNavLink Href="/admin/users" Match="NavLinkMatch.All" Icon="@Icons.Material.SupervisorAccount">Users</MudNavLink>
    <MudNavLink Href="/admin/finance" Match="NavLinkMatch.All" Icon="@Icons.Material.AccountBalance">Finance</MudNavLink>
    <br />
    <MudDivider DividerType="DividerType.Middle" Class="mb-5" />

    <AuthorizeView>
        <Authorized>
            <MudText Class="mx-2">@context.User.Identity.Name</MudText>
            <MudButton OnClick="@(async ()=> await authStateProvider.Logout())">Logout</MudButton>
        </Authorized>
        <NotAuthorized>
            <MudButton OnClick="@(()=> navigationManager.NavigateTo("/login"))">Login</MudButton>
        </NotAuthorized>
    </AuthorizeView>
</MudNavMenu>