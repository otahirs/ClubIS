@page "/"
@using ClubIS.CoreLayer.DTOs

@inject HttpClient Http

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-16">
    <MudText Typo="Typo.h3" GutterBottom="true">News</MudText>
    @if (news == null)
    {
        <MudProgressCircular Color="Color.Default" Indeterminate="true" />
    }
    else
    {
        @foreach(var n in news)
        {
            @n.Date <br />
            @n.Title <br />
            @n.Text <br />
        }
    }
</MudContainer>

@code {
    private NewsListDTO[] news;

    protected override async Task OnInitializedAsync()
    {
        news = await Http.GetFromJsonAsync<NewsListDTO[]>("News");
    }
}       